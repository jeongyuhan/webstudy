<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>id를 이용한 submit 과 name을 이용한 방법 preview</title>
	
</head>
<body>
	<!-- 
		submit 
		- 폼 내부의 모든 입력 요소들을 폼의 action 속성에 지정해 둔 곳으로 보내는 것 
	-->
	<form id="form" name="f" action="index.html">
		<input type="text" id="query" name="q" value="기본값">  
		<!-- input에서 value를 꼭 만들어줘야하는 것들은 type이 radio, checkbox, select 인 것이다. text의 경우 value부분을 생략해도 입력하는 값이 value로 자동 지정된다. -->
		<br><br>
		<button>검색</button>  <!-- button 태그 역할 : submit -->
	</form>
	
		<!--  form을 위한 페이지 load 이벤트를 실행할 필요가 없다 script의 위치가 form 아래에 있기 때문에 이미 읽고난 뒤이기 때문이다. -->
	<script>
		// 1. <form id="form"> <input id="query"> (id를 활용하는 방법)
		//	  document.getElementById('form');
		var form = document.getElementById('form');
		var query = document.getElementById('query');
		
		// 1) 고전 이벤트
		/* 	 
		form.onsubmit = function(event){
			if(query.value == ''){
				alert('검색어를 입력하세요.');
				query.focus();
				event.preventDefault();
				return false;
			(내부 실행 코드는 고전.표준 모두 동일하다.)
			}
		}
 		*/
		 
		// 2) 표준 이벤트
		form.addEventListener('submit', function(event){
			// value 속성값 알아내기
			// 1) query.getAttribute('value')
			// 2) query.value
			// alert(query.value);
			
			// 검색어가 비어있으면 검색하지 않는 코드
			console.log(event); // defaultPrevented: false (submit의 기본동작을 막아주는 부분이다. ture일 경우 막아준다.)
			if(query.value == '') {
				alert('검색어를 입력하세요.');
				query.focus(); // focus : 커서를 옮겨준다. (검색어를 입력할 수 있게 query부분으로 커서를 옮겨준다.)
				event.preventDefault(); // submit의 기본동작을 막겠다는 의미이다.
				return false; 
			}
		});
		
		// 2. <form name="f"> <input name="q"> (name을 활용하는 방법)
		//    1) document.forms.f;
		//	  2) document.forms['f'];
		// var form2 = document.forms.f;
		// var q = form2.q; // var q = form['q'];
		
		
	</script>
</body>
</html>